// @ts-ignore
import { TGalleryGenerationHit } from "../ts/types/gallery";
import { getImgProxySrc } from "./helpers";

export default async function OGProfile({
  width,
  height,
  username,
}: {
  width: number;
  height: number;
  username?: string;
}) {
  const bgColor = "rgb(18, 18, 23)";
  const shadowColor = "rgba(0, 0, 4, 0.3)";
  const onBgColor = "rgb(220, 220, 234)";
  const bgSecondaryColor = "rgb(28, 28, 35)";
  const dotColor = "rgba(220, 220, 234, 0.03)";
  const dotDistance = 42;
  const dotSizePercent = 5;
  const ringWidth = 5;

  return (
    <div
      style={{
        background: bgColor,
        color: onBgColor,
        backgroundImage: `
          radial-gradient(circle at 0px 0px, ${dotColor} ${dotSizePercent}%, transparent 0%),
          radial-gradient(circle at 0px ${dotDistance}px, ${dotColor} ${dotSizePercent}%, transparent 0%),
          radial-gradient(circle at ${dotDistance}px 0px, ${dotColor} ${dotSizePercent}%, transparent 0%),
          radial-gradient(circle at ${dotDistance}px ${dotDistance}px, ${dotColor} ${dotSizePercent}%, transparent 0%),
        `,
        backgroundSize: `${dotDistance}px ${dotDistance}px`,
        position: "relative",
      }}
      tw="flex flex-col w-full h-full items-center justify-between relative"
    >
      <div style={{ paddingTop: "4.5rem" }} tw="flex flex-col items-center">
        <svg
          width="233"
          height="47"
          viewBox="0 0 233 47"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M2.18 36.48c-.98 1-1 2.61.14 3.42.38.28.78.53 1.18.76a1.9 1.9 0 0 1 .92 2.1c-.18.68.22 1.37.9 1.55l2.44.65c.67.18 1.37-.22 1.55-.9v-.03c.22-.8.98-1.32 1.8-1.32.83 0 1.6.52 1.8 1.32l.02.04c.18.67.87 1.07 1.54.9l2.45-.66c.67-.18 1.07-.87.89-1.55l-.01-.04c-.22-.8.18-1.62.9-2.03a1.85 1.85 0 0 1 2.22.23l.02.03c.5.5 1.3.5 1.8 0l1.78-1.79c.5-.49.5-1.29 0-1.78l-.03-.03a1.85 1.85 0 0 1-.23-2.23 1.82 1.82 0 0 1 2.03-.89l.04.01c.67.18 1.36-.22 1.55-.9l.65-2.43a1.26 1.26 0 0 0-.9-1.55l-.04-.01a1.83 1.83 0 0 1-1.31-1.8c0-.83.52-1.59 1.31-1.8l.05-.01c.67-.18 1.07-.87.89-1.55l-.65-2.44a1.26 1.26 0 0 0-1.55-.9 1.9 1.9 0 0 1-2.1-.92 15.18 15.18 0 0 0-2.4-3.1L2.19 36.48Z"
            fill="url(#a)"
          />
          <path
            d="M2.18 36.48c-.98 1-1 2.61.14 3.42.38.28.78.53 1.18.76a1.9 1.9 0 0 1 .92 2.1c-.18.68.22 1.37.9 1.55l2.44.65c.67.18 1.37-.22 1.55-.9v-.03c.22-.8.98-1.32 1.8-1.32.83 0 1.6.52 1.8 1.32l.02.04c.18.67.87 1.07 1.54.9l2.45-.66c.67-.18 1.07-.87.89-1.55l-.01-.04c-.22-.8.18-1.62.9-2.03a1.85 1.85 0 0 1 2.22.23l.02.03c.5.5 1.3.5 1.8 0l1.78-1.79c.5-.49.5-1.29 0-1.78l-.03-.03a1.85 1.85 0 0 1-.23-2.23 1.82 1.82 0 0 1 2.03-.89l.04.01c.67.18 1.36-.22 1.55-.9l.65-2.43a1.26 1.26 0 0 0-.9-1.55l-.04-.01a1.83 1.83 0 0 1-1.31-1.8c0-.83.52-1.59 1.31-1.8l.05-.01c.67-.18 1.07-.87.89-1.55l-.65-2.44a1.26 1.26 0 0 0-1.55-.9 1.9 1.9 0 0 1-2.1-.92 15.18 15.18 0 0 0-2.4-3.1L2.19 36.48Z"
            fill="url(#b)"
          />
          <path
            d="M4.86 10.57c-.49-.49-.49-1.29 0-1.78L6.66 7c.48-.5 1.28-.5 1.78 0l.03.03c.58.58 1.5.65 2.22.23.72-.4 1.1-1.23.9-2.03l-.02-.04c-.18-.67.22-1.37.9-1.55L14.9 3c.67-.18 1.36.22 1.54.9l.02.04c.21.8.97 1.31 1.8 1.31.82 0 1.58-.52 1.8-1.31v-.05c.19-.67.88-1.07 1.55-.9l2.44.66c.68.18 1.08.88.9 1.55-.22.82.19 1.67.92 2.1.4.23.8.49 1.18.76 1.14.81 1.13 2.43.14 3.42L7.54 31.12c-.95-.95-1.74-2-2.39-3.1a1.9 1.9 0 0 0-2.1-.93 1.26 1.26 0 0 1-1.54-.89l-.66-2.44c-.18-.67.22-1.37.9-1.55h.04c.8-.22 1.31-.98 1.31-1.8 0-.83-.51-1.6-1.31-1.8l-.04-.02a1.26 1.26 0 0 1-.9-1.55l.66-2.44c.18-.67.87-1.07 1.54-.89l.04.01c.8.21 1.62-.18 2.04-.9.41-.7.35-1.63-.24-2.22l-.03-.03Z"
            fill="url(#c)"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M5.4 10.04c-.5-.5-.5-1.3 0-1.79l1.27-1.27-.02.02L4.86 8.8c-.49.5-.49 1.3 0 1.78l.03.03a1.85 1.85 0 0 1 .17 2.34c.24-.16.45-.38.6-.65.41-.71.35-1.64-.23-2.22l-.03-.03Zm-3.26 3.77c-.3.16-.54.44-.63.8l-.66 2.43c-.18.68.22 1.37.9 1.55l.04.01c.8.22 1.31.98 1.31 1.8 0 .39-.1.75-.3 1.06.52-.33.84-.94.84-1.6 0-.82-.52-1.58-1.32-1.8h-.04a1.26 1.26 0 0 1-.9-1.55l.66-2.44c.02-.1.06-.18.1-.26Zm-.65 8.5c-.52.27-.8.87-.64 1.45l.66 2.44c.18.67.87 1.07 1.54.9a1.9 1.9 0 0 1 2.1.92c.65 1.1 1.44 2.15 2.4 3.1l-5.37 5.36c-.98.99-1 2.61.14 3.42.39.28.78.53 1.18.76a1.9 1.9 0 0 1 .93 2.1c-.19.67.21 1.37.89 1.55l2.44.65c.58.16 1.18-.12 1.45-.63-.27.14-.6.18-.92.1l-2.44-.66a1.26 1.26 0 0 1-.9-1.54 1.9 1.9 0 0 0-.92-2.1c-.4-.23-.8-.49-1.17-.76-1.14-.81-1.13-2.43-.14-3.42l5.36-5.36c-.95-.95-1.75-2-2.4-3.1a1.9 1.9 0 0 0-2.1-.93 1.26 1.26 0 0 1-1.54-.9l-.65-2.43c-.09-.32-.04-.65.1-.92Zm8.57 20.71c.3-.2.67-.3 1.06-.3.82 0 1.58.5 1.8 1.3v.05c.19.67.88 1.07 1.55.9l2.45-.66c.35-.1.63-.33.79-.64-.08.05-.17.08-.26.1l-2.44.66a1.26 1.26 0 0 1-1.55-.9l-.01-.04a1.83 1.83 0 0 0-1.8-1.31c-.65 0-1.26.32-1.59.84Zm8.52-2.26.11-.07a1.85 1.85 0 0 1 2.23.23l.02.03c.5.5 1.3.5 1.8 0l.5-.51c-.49.47-1.27.46-1.76-.02l-.03-.03a1.85 1.85 0 0 0-2.22-.24c-.27.16-.49.36-.65.6Zm6.28-6.28c.41-.28.93-.38 1.43-.25l.04.01c.58.16 1.18-.12 1.45-.63-.28.14-.6.18-.92.1l-.04-.01c-.75-.2-1.53.13-1.96.78Zm2.26-8.52c.15-.1.3-.16.47-.2l.05-.02c.35-.1.63-.33.79-.63l-.26.1h-.04c-.43.12-.78.4-1 .75ZM20.71 3.09c-.3.16-.54.44-.63.8l-.02.04c-.04.17-.11.32-.2.47.35-.23.62-.58.74-1v-.05c.03-.1.07-.18.11-.26Zm-8.5.65c-.52.27-.8.87-.64 1.45l.01.04c.14.5.03 1.02-.24 1.43.64-.43.98-1.2.78-1.96l-.01-.04c-.09-.32-.04-.65.1-.92Z"
            fill="url(#d)"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M4.52 13.47c-.41.28-.92.39-1.43.25l-.04-.01a1.26 1.26 0 0 0-1.44.64c.27-.15.59-.2.9-.1h.05c.75.2 1.53-.13 1.96-.78ZM2.26 22c-.14.1-.3.17-.47.21l-.04.01c-.36.1-.64.34-.8.64.08-.05.17-.08.26-.1l.04-.02c.43-.11.78-.38 1-.74Zm6.41 22.87c.3-.16.54-.44.64-.8v-.03c.05-.17.12-.33.22-.48-.36.23-.63.58-.75 1.01v.04l-.1.26Zm8.5-.65c.52-.27.8-.87.64-1.45l-.01-.04c-.14-.5-.03-1.01.25-1.43-.65.43-.99 1.21-.79 1.97l.01.04c.09.31.05.64-.1.9Zm5.54-3.24a1 1 0 0 0 .02-.02l1.79-1.79c.5-.49.5-1.29 0-1.78l-.03-.03a1.85 1.85 0 0 1-.16-2.34c-.25.16-.46.38-.6.65-.42.71-.36 1.64.22 2.22l.03.03c.5.5.5 1.3 0 1.79l-1.27 1.27Zm4.53-6.83c.3-.16.54-.44.64-.8l.65-2.43a1.26 1.26 0 0 0-.9-1.55l-.04-.01a1.83 1.83 0 0 1-1.31-1.8c0-.38.11-.75.3-1.06-.52.34-.84.94-.84 1.6 0 .82.52 1.58 1.32 1.8h.04c.68.18 1.08.88.9 1.55l-.66 2.44c-.02.1-.06.18-.1.26Zm.65-8.5c.52-.27.8-.87.64-1.45l-.65-2.44a1.26 1.26 0 0 0-1.55-.9 1.9 1.9 0 0 1-2.1-.92 15.19 15.19 0 0 0-2.4-3.1l5.37-5.36c.99-.99 1-2.61-.14-3.42-.38-.27-.78-.53-1.18-.76a1.9 1.9 0 0 1-.92-2.1 1.26 1.26 0 0 0-.9-1.55L21.62 3a1.26 1.26 0 0 0-1.44.63c.27-.14.59-.18.9-.1l2.45.66c.67.18 1.07.87.9 1.54-.23.83.18 1.68.92 2.1.4.24.8.49 1.18.76 1.13.81 1.12 2.44.13 3.42l-5.36 5.36c.95.95 1.75 2 2.4 3.1a1.9 1.9 0 0 0 2.1.93c.67-.18 1.36.22 1.54.9l.66 2.44c.08.31.04.64-.1.9Zm-8.57-20.7c-.3.19-.67.3-1.06.3-.82 0-1.58-.52-1.8-1.31v-.05a1.26 1.26 0 0 0-1.55-.9l-2.44.66c-.36.1-.64.34-.8.64.08-.04.17-.08.26-.1l2.44-.66c.68-.18 1.37.22 1.55.9l.01.04c.22.8.97 1.31 1.8 1.31.65 0 1.26-.31 1.6-.84ZM10.8 7.18l-.11.07c-.72.42-1.64.35-2.22-.23L8.44 7c-.5-.5-1.3-.5-1.79 0l-.52.52c.5-.48 1.29-.47 1.77.02l.03.02c.59.59 1.51.65 2.23.24.26-.15.48-.36.64-.6Z"
            fill="url(#e)"
          />
          <path
            d="M54.62 38.24a16.2 16.2 0 0 1-5.8-1.06 12.3 12.3 0 0 1-4.6-2.95l4.4-4.48a7.74 7.74 0 0 0 2.67 2.13c1.12.55 2.23.82 3.33.82 1.13 0 2.05-.24 2.75-.7.73-.5 1.1-1.28 1.1-2.32 0-.68-.22-1.23-.67-1.65-.42-.45-1-.81-1.72-1.1a44.5 44.5 0 0 0-3.38-1.22c-1.39-.45-2.6-.97-3.61-1.57a7.33 7.33 0 0 1-2.51-2.48 7.28 7.28 0 0 1-.99-3.92c0-1.94.51-3.56 1.53-4.87a9.34 9.34 0 0 1 4-2.9c1.66-.64 3.4-.95 5.23-.95 1.62 0 3.25.3 4.87.9 1.65.58 3.06 1.42 4.24 2.52l-4.28 4.51a6.03 6.03 0 0 0-2.24-1.73 6.17 6.17 0 0 0-2.7-.66c-1.05 0-1.97.22-2.76.66-.75.42-1.13 1.13-1.13 2.12 0 .58.15 1.07.47 1.46.34.4.8.72 1.37.98.6.24 1.41.51 2.44.82 1.67.5 3.1 1.05 4.27 1.65a8.33 8.33 0 0 1 3.07 2.52 6.6 6.6 0 0 1 1.3 4.2 8.6 8.6 0 0 1-1.5 5.14 8.76 8.76 0 0 1-3.89 3.1c-1.6.69-3.35 1.03-5.26 1.03ZM76.76 38c-2.48 0-4.26-.6-5.34-1.8-1.07-1.2-1.6-2.92-1.6-5.15V22.7h-3.15v-4.83h3.1v-5.11h6.33v5.1h4.59v4.84h-4.6v7.58c0 .94.19 1.63.56 2.08.36.44 1 .66 1.88.66.32 0 .64-.02.98-.07.37-.06.67-.14.9-.24l.08 4.71a9.5 9.5 0 0 1-1.72.4c-.68.13-1.35.2-2 .2ZM89.6 38c-1.15 0-2.26-.2-3.33-.59a6.4 6.4 0 0 1-2.71-2 5.62 5.62 0 0 1-1.06-3.53c0-4.4 4.15-6.6 12.44-6.6h.12v-.32a2.4 2.4 0 0 0-.98-2.08 4.1 4.1 0 0 0-2.55-.74c-.9 0-1.77.2-2.63.59-.84.36-1.57.83-2.2 1.4l-3.26-3.49a11.2 11.2 0 0 1 3.97-2.43c1.54-.58 3.12-.87 4.75-.87 2.17 0 3.91.37 5.22 1.1a6.22 6.22 0 0 1 2.86 3.38c.6 1.5.9 3.44.9 5.85v9.86h-5.88v-2.08h-.12a4.9 4.9 0 0 1-2.24 1.88 8.16 8.16 0 0 1-3.3.67Zm1.61-4.32c1.29 0 2.28-.35 2.99-1.06a4.06 4.06 0 0 0 1.06-2.94V29h-.83c-1.75 0-3.19.18-4.31.55-1.13.37-1.7 1.07-1.7 2.12 0 .68.28 1.19.83 1.53.55.31 1.2.47 1.96.47ZM118.44 38.08c-1.31 0-2.55-.27-3.73-.82a6.35 6.35 0 0 1-2.67-2.28h-.08v2.55h-5.93V7.84h6.44v12.21h.08a7.57 7.57 0 0 1 2.47-1.84 7.55 7.55 0 0 1 3.5-.79c1.83 0 3.44.47 4.83 1.42a9.03 9.03 0 0 1 3.25 3.73 11.58 11.58 0 0 1 1.14 5.1c0 1.86-.38 3.59-1.14 5.19a8.7 8.7 0 0 1-8.17 5.22Zm-1.53-5.34a4.29 4.29 0 0 0 4.08-2.55 5.86 5.86 0 0 0 0-4.95 4.29 4.29 0 0 0-4.08-2.55 4.3 4.3 0 0 0-2.48.74 4.8 4.8 0 0 0-1.65 1.89c-.39.76-.59 1.55-.59 2.4 0 .86.2 1.68.6 2.47.39.76.94 1.37 1.64 1.84.71.47 1.53.7 2.48.7ZM138.43 37.53h-6.52V7.84h6.52v29.7ZM153.3 38.16c-1.99 0-3.8-.4-5.46-1.22a9.47 9.47 0 0 1-3.88-3.57 10.56 10.56 0 0 1-1.42-5.54c0-2.1.46-3.93 1.38-5.5a9.74 9.74 0 0 1 3.8-3.69c1.6-.86 3.4-1.3 5.38-1.3 1.94 0 3.64.44 5.1 1.3a8.44 8.44 0 0 1 3.46 3.7c.84 1.59 1.26 3.47 1.26 5.65 0 .7-.01 1.21-.04 1.53h-14.17c.05.7.3 1.35.74 1.92a5 5 0 0 0 3.93 1.77c.97 0 1.8-.18 2.51-.55a5.03 5.03 0 0 0 1.8-1.5l4.48 2.84a9.47 9.47 0 0 1-3.69 3.1c-1.49.7-3.22 1.06-5.18 1.06ZM157 25.5a4 4 0 0 0-.44-1.88 3 3 0 0 0-1.34-1.34 4.02 4.02 0 0 0-2.08-.5 4.7 4.7 0 0 0-2.2.5c-.65.34-1.17.8-1.56 1.38a3.6 3.6 0 0 0-.67 1.84h8.28ZM176.88 38.16c-2.06 0-3.94-.42-5.61-1.26a9.68 9.68 0 0 1-3.93-3.61 10.56 10.56 0 0 1-1.4-5.54c0-2.07.47-3.89 1.44-5.46a9.59 9.59 0 0 1 3.93-3.65c1.65-.86 3.5-1.3 5.53-1.3 1.4 0 2.75.25 4.09.75a7.96 7.96 0 0 1 3.18 1.89l-3.73 4.32a4.57 4.57 0 0 0-3.42-1.57c-.89 0-1.67.23-2.35.7a4.68 4.68 0 0 0-1.61 1.8 5.7 5.7 0 0 0-.55 2.52c0 .92.18 1.76.55 2.52.39.75.93 1.36 1.6 1.8.71.45 1.53.67 2.44.67.68 0 1.34-.13 1.96-.4a4.1 4.1 0 0 0 1.54-1.05l3.57 4.36a8.39 8.39 0 0 1-3.14 1.84c-1.28.45-2.65.67-4.09.67ZM196.51 38.16c-1.96 0-3.78-.43-5.46-1.3a9.87 9.87 0 0 1-3.92-3.69 10.4 10.4 0 0 1-1.45-5.5c0-2.06.48-3.88 1.45-5.46a9.68 9.68 0 0 1 3.92-3.6 11.87 11.87 0 0 1 5.46-1.27c2 0 3.81.42 5.46 1.26 1.67.84 3 2.04 3.96 3.61a10.2 10.2 0 0 1 1.46 5.46 10.18 10.18 0 0 1-5.42 9.2c-1.65.86-3.47 1.29-5.46 1.29Zm.04-5.42c.97 0 1.8-.24 2.47-.7.71-.5 1.25-1.13 1.61-1.9a5.79 5.79 0 0 0 0-4.9 4.42 4.42 0 0 0-4.12-2.55c-.97 0-1.8.23-2.51.7a4.68 4.68 0 0 0-1.57 1.85 5.89 5.89 0 0 0 .04 4.9c.36.77.89 1.4 1.57 1.9.7.46 1.54.7 2.51.7ZM220.69 46.96c-1.75 0-3.55-.28-5.38-.83a14.1 14.1 0 0 1-4.67-2.24l3.22-4.6a9.66 9.66 0 0 0 6.48 2.48c1.83 0 3.2-.5 4.12-1.5a5.45 5.45 0 0 0 1.41-3.96v-1.18h-.12a6.51 6.51 0 0 1-2.47 1.93 8.56 8.56 0 0 1-3.46.67 8.96 8.96 0 0 1-4.98-1.38 9.09 9.09 0 0 1-3.26-3.69 11.67 11.67 0 0 1-1.1-5.07c0-1.85.37-3.56 1.1-5.1a9.3 9.3 0 0 1 3.26-3.77 8.7 8.7 0 0 1 4.95-1.41 8.2 8.2 0 0 1 3.57.78 6.3 6.3 0 0 1 2.67 2.28h.08v-2.51h6.08v17.82c0 2.5-.47 4.57-1.41 6.25a8.73 8.73 0 0 1-4 3.77c-1.7.84-3.74 1.26-6.1 1.26Zm.63-14.34a4.54 4.54 0 0 0 4.16-2.51 5.64 5.64 0 0 0 0-5.07 4.54 4.54 0 0 0-4.16-2.47c-.94 0-1.77.22-2.48.67a4.4 4.4 0 0 0-1.57 1.8c-.36.76-.55 1.6-.55 2.52 0 .89.19 1.72.55 2.5.37.77.9 1.38 1.57 1.85.71.48 1.53.71 2.48.71Z"
            fill="#DCDCEA"
          />
          <defs>
            <linearGradient
              id="a"
              x1="21.94"
              y1="17.03"
              x2=".47"
              y2="37.87"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#9866FF" />
              <stop offset="1" stop-color="#C3A6FF" />
            </linearGradient>
            <linearGradient
              id="b"
              x1="14.16"
              y1="21.63"
              x2="17.36"
              y2="25.91"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#0F0F12" stop-opacity=".1" />
              <stop offset="1" stop-color="#0F0F12" stop-opacity="0" />
            </linearGradient>
            <linearGradient
              id="c"
              x1="7.67"
              y1="31"
              x2="28.78"
              y2="9.89"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#9866FF" />
              <stop offset="1" stop-color="#C3A6FF" />
            </linearGradient>
            <linearGradient
              id="d"
              x1="2.41"
              y1="40"
              x2="16.29"
              y2="25.05"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#9C6CFF" />
              <stop offset="1" stop-color="#925CFF" />
            </linearGradient>
            <linearGradient
              id="e"
              x1="15.19"
              y1="22.35"
              x2="29.11"
              y2="13.1"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#AD85FF" />
              <stop offset="1" stop-color="#CEB7FF" />
            </linearGradient>
          </defs>
        </svg>
        <p tw="font-bold text-7xl -mt-1">
          <span tw="opacity-50 font-semibold">@</span>
          {username}
        </p>
      </div>
      <img
        tw="w-full"
        width={1200}
        height={352}
        src="https://og.stablecog.com/user_profile_preview_base_2.png"
      />
    </div>
  );
}
